<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

  <title>Frontend Mentor | Advice generator app</title>

  <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body onload="fetchAdvice()" class="px-4 lg:px-8 bg-[#202632] min-h-screen flex items-center">

  <div class="py-4 bg-[#313a49] w-full relative space-y-5 max-w-sm mx-auto rounded-lg text-center px-4">
    <p class="font-semibold text-[#4ed496] text-sm"><span class="tracking-widest">ADVICE</span> #<span data-id></span></p>
    <h2 class="text-gray-400 font-semibold text-xl" data-advice></h2>
    <img class="px-8 pb-8" src="./images/pattern-divider-desktop.svg" alt="">
    <button onclick="fetchAdvice()" class="absolute -bottom-6 left-1/2 group -translate-x-1/2  p-4 rounded-full bg-[#4ed496] w-fit mx-auto transition-all duration-300 hover:shadow-[0px_0px_10px_10px_#4ed496]">
    <img src="./images/icon-dice.svg" class="group-hover:animate-spin">
  </button>
  </div>


  <script>
    const API_URL = 'https://api.adviceslip.com/advice'
    const insertIdEl = document.querySelector('[data-id]')
    const insertAdviceEl = document.querySelector('[data-advice]')

    async function fetchAdvice() {
      const res = await fetch(API_URL)
      const data = await res.json()
      console.log(data);
      insertIdEl.innerText = data.slip.id
      insertAdviceEl.innerText = data.slip.advice
    }



  </script>
</body>

</html>